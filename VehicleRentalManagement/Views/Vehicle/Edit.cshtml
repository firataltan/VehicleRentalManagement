@model VehicleRentalManagement.Models.Vehicle
@{
    ViewBag.Title = "Araç Düzenle";
}

<div class="form-container">
    <div class="form-card">
        <div class="form-header">
            <div class="mb-3">
                <div class="vehicle-icon mx-auto" style="width: 70px; height: 70px; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white; box-shadow: 0 4px 15px rgba(250, 112, 154, 0.3);">
                    <i class="fas fa-edit"></i>
                </div>
            </div>
            <h2>Araç Düzenle</h2>
            <p class="text-muted mb-0">Araç bilgilerini güncelleyin</p>
        </div>

        <form asp-action="Edit" asp-controller="Vehicle" method="post" class="needs-validation" novalidate>
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.VehicleId)
            @Html.HiddenFor(m => m.CreatedBy)
            @Html.HiddenFor(m => m.CreatedDate)

            <div class="mb-4">
                @Html.LabelFor(m => m.VehicleName, new { @class = "form-label" })
                <div class="input-group-icon">
                    <i class="fas fa-car"></i>
                    @Html.TextBoxFor(m => m.VehicleName, new { @class = "form-control", placeholder = "Örn: Mercedes Sprinter", required = "required" })
                </div>
                @Html.ValidationMessageFor(m => m.VehicleName, "", new { @class = "text-danger small mt-1 d-block" })
            </div>

            <div class="mb-4">
                @Html.LabelFor(m => m.LicensePlate, new { @class = "form-label" })
                <div class="input-group-icon">
                    <i class="fas fa-id-card"></i>
                    @Html.TextBoxFor(m => m.LicensePlate, new { @class = "form-control", placeholder = "Örn: 26AX001", required = "required", pattern = @"^\d{2}[A-Z]{1,3}\d{1,4}$" })
                </div>
                @Html.ValidationMessageFor(m => m.LicensePlate, "", new { @class = "text-danger small mt-1 d-block" })
            </div>

            <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i>
                <strong>Oluşturan:</strong> @Model.CreatedByName |
                <strong>Tarih:</strong> @Model.CreatedDate.ToString("dd.MM.yyyy HH:mm")
            </div>

            <div class="d-flex gap-2 mt-4">
                <button type="submit" class="btn btn-warning flex-grow-1">
                    <i class="fas fa-save me-2"></i>Güncelle
                </button>
                <a href="@Url.Action("Index")" class="btn btn-secondary">
                    <i class="fas fa-times me-2"></i>İptal
                </a>
            </div>
        </form>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            $('input[name="LicensePlate"]').on('input', function () {
                this.value = this.value.toUpperCase();
            });

            $('form').submit(function (e) {
                if (!this.checkValidity()) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                $(this).addClass('was-validated');
            });
        });
    </script>
}